<div class="well-group">
  <div class="well gray-lightest">
    <div class="well-body">
      <!-- Tab selector dropdown -->
      <div class="btn-group" dropdown>
        <!-- Selected option -->
        <button dropdownToggle type="button" class="btn btn-primary btn-xs dropdown-toggle mr-xs">
          <i class="fa fa-bars"></i><span class="sr-only">Item Menu</span>
        </button>

        <span class="h2">
          <span *ngIf="isSelected('history')">History</span>
          <span *ngIf="isSelected('stimulus')">Stimulus</span>
          <span *ngIf="isSelected('tutorial')">Tutorial</span>
          <span *ngIf="isSelected('workflow')">Workflow</span>
        </span>

        <!-- Dropdown options -->
        <ul *dropdownMenu class="dropdown-menu" role="menu">
          <li role="menuitem">
            <a class="dropdown-item" (click)="select('history')">History</a>
          </li>
          <li role="menuitem" *ngIf="item.supportsStimulus">
            <a class="dropdown-item" (click)="select('stimulus')">Stimulus</a>
          </li>
          <li role="menuitem" *ngIf="item.supportsTutorial">
            <a class="dropdown-item" (click)="select('tutorial')">Tutorial</a>
          </li>
          <li role="menuitem" *ngIf="item.supportsWorkflow">
            <a class="dropdown-item" (click)="select('workflow')">Workflow</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Selected tab -->
  <div class="item-box tab-content well white">
    <div class="well-body">
      <!-- History -->
      <item-history-tab *ngIf="isSelected('history')"
                        [itemId]="item.id">
      </item-history-tab>

      <!-- Stimulus -->
      <item-association-tab #stimulus
                            *ngIf="isSelected('stimulus')"
                            [isReadOnly]="isReadOnly"
                            [associationId]="associatedStimulusId"
                            [associationType]="itemTypeStimulus"
                            (associationIdChanged)="onItemChanged()">
      </item-association-tab>

      <!-- Tutorial -->
      <item-association-tab #tutorial
                            *ngIf="isSelected('tutorial')"
                            [isReadOnly]="isReadOnly"
                            [associationId]="associatedTutorialId"
                            [associationType]="itemTypeTutorial"
                            (associationIdChanged)="onItemChanged()">
      </item-association-tab>

      <!-- Workflow -->
      <item-workflow-tab *ngIf="isSelected('workflow')"
                         [isReadOnly]="isReadOnly"
                         [workflowStatusCode]="item.workflowStatusCode"
                         (workflowStatusCodeChange)="onItemChanged()">
      </item-workflow-tab>
    </div>
  </div>
</div>
